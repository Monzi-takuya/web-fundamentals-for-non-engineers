{% extends "base.html" %}

{% block title %}{{ page_title }}{% endblock %}

{% block page_header %}
<div class="page-header">
    <h1 class="page-title">ğŸ“ ToDoãƒªã‚¹ãƒˆ</h1>
    <p class="page-subtitle">{{ current_date }} ã®ã‚¿ã‚¹ã‚¯ç®¡ç†</p>
    
    <!-- çµ±è¨ˆæƒ…å ±ã‚«ãƒ¼ãƒ‰ -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">ğŸ“Š</div>
            <div class="stat-info">
                <h3>{{ stats.total }}</h3>
                <p>ç·ã‚¿ã‚¹ã‚¯æ•°</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">âœ…</div>
            <div class="stat-info">
                <h3>{{ stats.completed }}</h3>
                <p>å®Œäº†æ¸ˆã¿</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">â°</div>
            <div class="stat-info">
                <h3>{{ stats.pending }}</h3>
                <p>æœªå®Œäº†</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ğŸ“ˆ</div>
            <div class="stat-info">
                <h3>{{ stats.completion_rate }}%</h3>
                <p>å®Œäº†ç‡</p>
            </div>
        </div>
    </div>
    
    <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ -->
    <div class="progress-section">
        <div class="progress-label">
            ä»Šæ—¥ã®é€²æ—: {{ stats.completion_rate }}%
        </div>
        <div class="progress-bar">
            <div class="progress-fill" style="width: {{ stats.completion_rate }}%"></div>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<section class="todos-section">
    <div class="section-header">
        <h2>ğŸ“‹ ã‚¿ã‚¹ã‚¯ä¸€è¦§</h2>
        <div class="action-buttons">
            <!-- Step 4ã§è¿½åŠ ãƒœã‚¿ãƒ³ã‚’å®Ÿè£…äºˆå®š -->
            <button class="btn btn-primary" disabled>
                â• æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ 
                <small>(Step 4ã§å®Ÿè£…äºˆå®š)</small>
            </button>
        </div>
    </div>
    
    {% if todos %}
        <div class="todos-grid">
            {% for todo in todos %}
            <div class="todo-card {{ 'completed' if todo.completed else 'pending' }}">
                <!-- ã‚¿ã‚¹ã‚¯ãƒ˜ãƒƒãƒ€ãƒ¼ -->
                <div class="todo-header">
                    <div class="todo-status">
                        <span class="status-icon">{{ todo.completed | status_icon }}</span>
                        <span class="status-text">
                            {{ 'å®Œäº†' if todo.completed else 'æœªå®Œäº†' }}
                        </span>
                    </div>
                    <div class="todo-priority priority-{{ todo.priority }}">
                        {% if todo.priority == 'high' %}
                            ğŸ”´ é«˜å„ªå…ˆåº¦
                        {% elif todo.priority == 'medium' %}
                            ğŸŸ¡ ä¸­å„ªå…ˆåº¦
                        {% else %}
                            ğŸŸ¢ ä½å„ªå…ˆåº¦
                        {% endif %}
                    </div>
                </div>
                
                <!-- ã‚¿ã‚¹ã‚¯å†…å®¹ -->
                <div class="todo-body">
                    <h3 class="todo-title">{{ todo.title }}</h3>
                    <p class="todo-description">{{ todo.description }}</p>
                </div>
                
                <!-- ã‚¿ã‚¹ã‚¯ãƒ•ãƒƒã‚¿ãƒ¼ -->
                <div class="todo-footer">
                    <div class="todo-date">
                        ğŸ“… {{ todo.created_at }}
                    </div>
                    <div class="todo-actions">
                        <!-- Step 3ã§JavaScriptã€Step 4ã§ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†ã‚’å®Ÿè£…äºˆå®š -->
                        <button class="btn btn-sm btn-secondary" disabled>
                            âœï¸ ç·¨é›†
                        </button>
                        <button class="btn btn-sm btn-danger" disabled>
                            ğŸ—‘ï¸ å‰Šé™¤
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <!-- ã‚¿ã‚¹ã‚¯ãŒç©ºã®å ´åˆ -->
        <div class="empty-state">
            <div class="empty-icon">ğŸ“</div>
            <h3>ã¾ã ã‚¿ã‚¹ã‚¯ãŒã‚ã‚Šã¾ã›ã‚“</h3>
            <p>æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã—ã¦ã€ToDoãƒªã‚¹ãƒˆã‚’å§‹ã‚ã¾ã—ã‚‡ã†ï¼</p>
            <button class="btn btn-primary" disabled>
                â• æœ€åˆã®ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ 
                <small>(Step 4ã§å®Ÿè£…äºˆå®š)</small>
            </button>
        </div>
    {% endif %}
</section>

<!-- å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆè¡¨ç¤ºã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<section class="learning-section">
    <div class="learning-card">
        <h3>ğŸ“ Step 2ã§å­¦ç¿’ã—ãŸå†…å®¹</h3>
        <div class="tech-grid">
            <div class="tech-item">
                <div class="tech-icon">ğŸ—ï¸</div>
                <div class="tech-info">
                    <h4>HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</h4>
                    <p>Jinja2ã«ã‚ˆã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³</p>
                </div>
            </div>
            
            <div class="tech-item">
                <div class="tech-icon">ğŸ¨</div>
                <div class="tech-info">
                    <h4>åŸºæœ¬çš„ãªCSS</h4>
                    <p>è‰²ãƒ»ãƒ•ã‚©ãƒ³ãƒˆãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®è¨­å®š</p>
                </div>
            </div>
            
            <div class="tech-item">
                <div class="tech-icon">ğŸ“</div>
                <div class="tech-info">
                    <h4>é™çš„ãƒ•ã‚¡ã‚¤ãƒ«</h4>
                    <p>CSSãƒ»ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã®ç®¡ç†</p>
                </div>
            </div>
            
            <div class="tech-item">
                <div class="tech-icon">ğŸ”„</div>
                <div class="tech-info">
                    <h4>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç¶™æ‰¿</h4>
                    <p>ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å†åˆ©ç”¨</p>
                </div>
            </div>
        </div>
        
        <div class="next-step-info">
            <p><strong>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:</strong> Step 3ã§ã¯JavaScriptã‚’ä½¿ã£ã¦ã€ã“ã‚Œã‚‰ã®ãƒœã‚¿ãƒ³ã‚’å®Ÿè£…ã—ã¾ã™ï¼</p>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<!-- JavaScriptæ©Ÿèƒ½ã¯Step 3ã§å®Ÿè£…äºˆå®š -->
{% endblock %}