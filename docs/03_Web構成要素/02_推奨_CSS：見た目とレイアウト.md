# CSS：見た目とレイアウト

## はじめに

前章でHTMLによるWebページの骨組み作りを学びました。HTMLが建物の設計図や骨格だとすれば、**CSS**（Cascading Style Sheets）は内装・外装・装飾を担当します。

CSSにより、HTMLで構築された構造に色彩、レイアウト、アニメーションを適用して、ユーザーインターフェースを構築できます。また、レスポンシブデザインにより、スマートフォンからデスクトップまで、あらゆるデバイスで最適な表示を提供できます。

この章では、CSSの役割、レスポンシブデザイン、CSSフレームワーク、そしてWebディレクターとしてのデザイン要件定義について学びます。

## 📊 この章の重要度：🟡 推奨

**Webディレクターにとって：**
- デザイン要件の技術的実現可能性判断
- レスポンシブ対応の品質管理
- デザイナー・開発者間の効果的な橋渡し

## あなたがこれを知ると変わること

**デザイン要件定義時の会話の変化：**
- デザイナー：「このボタンを目立たせたいです」
- あなた（修得前）：「大きくて赤いボタンにしてください」
- あなた（修得後）：「**プライマリーボタン**として**hover状態**と**focus状態**を定義し、**アクセシビリティのコントラスト比**を確保してください」

**レスポンシブ対応の指示変化：**
- 以前：「スマホでも見られるようにしてください」
- 今後：「**モバイルファースト**設計で、**ブレークポイント**は375px・768px・1024pxで、**フレキシブルグリッド**を使用してください」

**CSS管理の方針変化：**
- 開発者：「CSSが複雑になってきました」
- あなた（修得前）：「整理してください」
- あなた（修得後）：「**CSS設計手法**（BEM・OOCSS）を導入し、**コンポーネント単位**で管理しましょう。**CSSフレームワーク**の活用も検討しましょう」

## CSSでできること・できないこと：まず知っておくべき基本

### 🎨 CSSでできること

**見た目とレイアウト**
- 文字の色、サイズ、フォントを変更
- 背景色、背景画像の設定
- ボタンやボックスのデザイン
- ページ全体のレイアウト（左右の配置、中央寄せなど）
- スマホ・タブレット・PC画面に合わせた表示調整
- マウスを乗せた時の色変化やアニメーション

**具体例：**
- 「このボタンを青色にして、マウスを乗せると薄い青になる」
- 「スマホでは1列、PCでは3列で表示する」
- 「ヘッダーを画面上部に固定する」

### ❌ CSSでできないこと

**動的な機能や情報処理**
- ボタンをクリックした時の処理（ページ移動以外）
- フォームに入力された内容の確認や保存
- 「いいね」ボタンの数を増やす
- 検索機能
- ログイン機能
- データベースからの情報取得

**具体例：**
- 「入力されたメールアドレスが正しい形式かチェック」→ JavaScriptが必要
- 「商品をカートに追加」→ JavaScriptとサーバー側の処理が必要
- 「コメントを投稿して画面に表示」→ JavaScriptとデータベースが必要

### 💡 初学者が混同しやすいポイント

**見た目の変化 ≠ 機能の実装**
- CSSは「見た目」のみ担当
- 「動く」「反応する」機能は主にJavaScriptが担当

**例：ボタンデザイン**
- ✅ CSS：ボタンの色、形、大きさを決める
- ❌ CSS：ボタンを押した時に何をするかは決められない

この基本を理解することで、「どの技術で何ができるか」が明確になり、Web開発の全体像が見えてきます。

## CSS：Webページの装飾言語

### CSSとは

**CSS**（Cascading Style Sheets）とは、HTMLで構築された構造に「見た目」を適用するスタイルシート言語です。

<details>
<summary><strong>💡「Cascading（カスケーディング）」とは？</strong></summary>

**Cascading**は「滝のように流れ落ちる」という意味で、CSSにおいては**スタイルの適用優先順位**を表す重要な概念です。

**日常生活での例え：**
滝の水が上から下に流れるように、CSSも複数のスタイル定義があった場合、決められた優先順位に従って「上から下に」適用されます。

**Cascadingの仕組み：**

1. **スタイルの継承（Inheritance）**
   - 親要素のスタイルが子要素に自動的に受け継がれる
   - 例：body要素にfont-familyを設定すると、すべての子要素に適用

2. **優先順位（Specificity）**
   - 同じ要素に複数のスタイルが適用される場合の優先順位
   - **高い順**: インラインスタイル > IDセレクター > クラスセレクター > 要素セレクター

3. **後勝ち（Source Order）**
   - 同じ優先度の場合、後から書かれたスタイルが優先
   - CSSファイルの下部に書いたスタイルが上書き

**実際の例：**
```css
/* 1. 要素セレクター（優先度: 低） */
p { color: blue; }

/* 2. クラスセレクター（優先度: 中） */
.highlight { color: red; }

/* 3. IDセレクター（優先度: 高） */
#important { color: green; }
```

```html
<p id="important" class="highlight">このテキストの色は？</p>
<!-- 答え: 緑色（IDセレクターが最優先） -->
```

**Webディレクターが知っておくべきポイント：**
- CSSの「予期しない表示」の多くはCascadingの理解不足が原因
- スタイルの優先順位を理解することで、デザイナーと開発者の間で起こる「なぜこの色にならないの？」問題を解決できる
- 大規模サイトでは、Cascadingのルールを活用したCSS設計が重要

</details>

**建築との比較：**
- **HTML**: 設計図・骨組み（どこに何があるか）
- **CSS**: 内装・外装（どのように見えるか）
- **JavaScript**: 設備・システム（どのように動くか）

**CSSの3つの主要な役割：**
1. **視覚的デザイン**: 色、フォント、サイズ、装飾
2. **レイアウト**: 要素の配置、間隔、整列
3. **レスポンシブ**: デバイスサイズに応じた最適化

### CSSとHTMLの分離の重要性

**CSSとHTMLの分離が重要な理由：**

**悪い例：HTMLに直接スタイルを記述**
```html
<h1 style="color: blue; font-size: 28px;">タイトル</h1>
```

**良い例：CSSファイルに分離**
```html
<!-- HTML ファイル -->
<h1 class="page-title">タイトル</h1>
```
```css
/* CSS ファイル */
.page-title {
    color: blue;
    font-size: 28px;
}
```

**日常生活での例え：**
CSS分離は「内容と装丁を分ける」考え方と同じです。
- 小説の内容と装丁
    - 単行本、文庫、電子書籍
- 楽曲データと視聴形式
    - Youtube, CD, サブスクリプション

**🚨 HTMLに直接スタイルを書く問題点：**

**実際のWebサイトでの例：**
```html
<!-- 悪い例：100ページあるサイトで全てに直接指定 -->
<h1 style="color: blue; font-size: 28px;">ページタイトル</h1>
```

**問題発生シナリオ：**
1. **クライアント**: 「青色を緑色に変更してください」
2. **作業量**: 100ページ × 各ページ複数箇所 = 数百箇所の手作業修正
3. **ミスのリスク**: 修正漏れ、入力ミス、作業時間の浪費
4. **メンテナンス**: 今後も同様の問題が繰り返し発生

**CSS分離の解決策：**
```css
/* CSSファイル：1箇所だけ修正 */
.page-title {
    color: green; /* blue から green に変更するだけ */
    font-size: 28px;
}
```
```html
<!-- HTMLファイル：変更不要 -->
<h1 class="page-title">ページタイトル</h1>
```

**分離のメリット：**
- **保守性**: スタイルの一括変更が可能（1箇所修正で全サイト反映）
- **再利用性**: 同じスタイルを複数箇所で使用
- **パフォーマンス**: CSSファイルのキャッシュが効く
- **役割分担**: デザイナーとプログラマーの作業分離

### CSSの基本文法

**CSSの書き方：**
```css
セレクター {
    プロパティ: 値;
}
```

**実際の例：**
```css
.button {
    color: white;
    background-color: blue;
}
```

**各部分の意味：**
- **セレクター（`.button`）**: どの要素にスタイルを適用するか
- **プロパティ（`color`）**: 何を変更するか（文字色、背景色など）
- **値（`white`）**: どのように変更するか（具体的な設定）

**日常生活での例え：**
CSSは「化粧や身だしなみの指示書」のようなものです。
- セレクター = 対象（「髪の毛に」「顔に」）
- プロパティ = 部位（「色を」「形を」）
- 値 = 具体的な指示（「茶色に」「丸く」）

**主要なセレクター：**

| セレクター | 記法 | 説明 | 使用例 |
|------------|------|------|--------|
| **要素セレクター** | `h1` | HTML要素を指定 | `h1 { color: blue; }` |
| **クラスセレクター** | `.class-name` | class属性を指定 | `.button { padding: 10px; }` |
| **IDセレクター** | `#id-name` | id属性を指定 | `#header { height: 60px; }` |
| **子孫セレクター** | `div p` | 親要素内の子要素 | `nav a { text-decoration: none; }` |
| **疑似クラス** | `:hover` | 要素の状態 | `button:hover { opacity: 0.8; }` |

## レイアウトシステム：要素の配置手法

### Flexbox：柔軟な1次元レイアウト

**Flexbox**（Flexible Box Layout）は、要素を柔軟に配置する現代的なレイアウト手法です。

**基本的なFlexboxの使用例：**
```css
.container {
    display: flex;
    justify-content: space-between; /* 要素を左右に配置 */
}
```

**Flexboxでできること：**
- 要素を横一列に並べる
- 要素を中央寄せする
- 残りスペースを均等に分割する
- 画面サイズに応じて自動調整する

**日常生活での例え：**
Flexboxは「弁当箱の仕切り」のようなものです。
- **固定サイズ**: おかずの量が決まっている仕切り
- **可変サイズ**: 残りスペースに応じて大きさが変わる仕切り
- **配置**: 左寄せ、中央、右寄せ、均等配置

**Flexboxの主要概念：**
- **主軸（main axis）**: 要素が並ぶ方向（横または縦）
- **交差軸（cross axis）**: 主軸に垂直な方向
- **flex-direction**: 主軸の方向を決定
- **justify-content**: 主軸方向の配置を制御
- **align-items**: 交差軸方向の配置を制御
- **flex-wrap**: 要素の折り返しを制御
- **gap**: 要素間の間隔を設定

### CSS Grid：2次元レイアウト

**CSS Grid**は、行と列を持つ2次元レイアウトシステムです。Flexboxが1次元（一方向）のレイアウトに適している一方、CSS Gridは複雑な2次元レイアウトを効率的に実現できます。

**CSS Gridの主要概念：**
- **grid-template-columns/rows**: 列・行のサイズを定義
- **grid-area**: 要素が占める領域を指定
- **grid-gap**: 要素間の間隔を設定
- **repeat()**: 同じパターンの繰り返しを効率的に記述
- **minmax()**: 最小値と最大値を指定した柔軟なサイズ設定
- **auto-fill/auto-fit**: 利用可能な空間に応じた自動調整

## レスポンシブデザイン：マルチデバイス対応

### メディアクエリ：デバイス別スタイル

**レスポンシブデザイン**により、スマートフォンからデスクトップまで各デバイスに適した表示を実現します。

**レスポンシブデザインの核心概念：**

**1. メディアクエリ（Media Queries）**
- 画面サイズや解像度に応じてCSSを切り替える仕組み
- ブレークポイント（画面サイズの区切り点）を設定
- 一般的なブレークポイント：375px（モバイル）、768px（タブレット）、1024px（デスクトップ）

**2. モバイルファースト設計**
- 最小画面サイズからスタイルを構築
- 画面が大きくなるにつれて機能やレイアウトを追加
- パフォーマンスと互換性の向上に寄与

**3. フレキシブルグリッド**
- 固定ピクセル単位ではなく相対単位（%、rem、vw）を使用
- コンテナの幅に応じて要素サイズが自動調整
- レイアウトの破綻を防止

### フレキシブルユニット：相対的なサイズ指定

**相対単位の種類と役割：**

**1. パーセンテージ（%）**
- 親要素のサイズに対する相対的な指定
- レイアウトの基本的な比率制御に使用

**2. rem（Root EM）**
- ルート要素（html）のフォントサイズを基準
- 一貫したスケーリングとアクセシビリティの向上

**3. em**
- 親要素のフォントサイズを基準
- ネストした要素の相対的な調整に使用

**4. ビューポート単位（vw、vh、vmin、vmax）**
- ブラウザの表示領域（ビューポート）を基準
- 画面サイズに応じた動的なサイズ調整

**5. clamp()関数**
- 最小値、推奨値、最大値を指定
- レスポンシブなサイズ調整の効率化

## まとめ

- **CSS**はHTMLの構造に視覚的デザインとレイアウトを適用する言語で、HTMLとの適切な分離が重要
- **Flexbox・CSS Grid**により現代的で柔軟なレイアウトを実現、デバイスサイズに応じた調整が可能
- **レスポンシブデザイン**はメディアクエリとフレキシブルユニットで、全デバイスでの適切な表示を実現
- CSSの基本概念を理解することで、HTMLとの役割分担を明確にし、効果的なWeb開発が可能

**より高度なCSS活用について：**
CSSフレームワーク、設計手法、パフォーマンス最適化、Webディレクターとしての実務活用については、「[05_応用_CSS設計・フレームワーク・最適化](./05_応用_CSS設計・フレームワーク・最適化.md)」で詳しく学習できます。

次の章では「JavaScript：インタラクションと動的機能」について学び、HTMLとCSSで構築された静的なWebページに、どのように動的な機能とユーザーインタラクションを追加するかを理解していきます。DOM操作、イベント処理、現代的なフロントエンド開発の基礎について、Webディレクターの視点から深掘りします。