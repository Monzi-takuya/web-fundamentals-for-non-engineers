# ブラウザが解釈する各タグのデフォルトの挙動について

## はじめに

HTMLで骨組みを作成した後、実際にブラウザで表示される際の「デフォルトの見た目」と「デフォルトの挙動」を理解しておくことは、Webディレクターにとって極めて重要です。

なぜなら、**ブラウザは各HTMLタグに対して「何も指定しなくても自動的に適用される」標準的なスタイルと動作**を持っているからです。これを知らずに要件定義や確認作業を行うと、想定と異なる結果になってしまうことがあります。

この章では、主要なHTMLタグのデフォルト動作を学び、デザイナーや開発者との効果的なコミュニケーションに活用できるようになります。

## 📊 この章の重要度：🟠 応用

**Webディレクターにとって：**
- デザイン要件定義時の精度向上
- CSSの必要性を判断する基準作り
- ブラウザ間での表示差異の予測

## あなたがこれを知ると変わること

**デザイン要件定義時の会話の変化：**
- デザイナー：「このボタンをもっと目立たせたいです」
- あなた（修得前）：「赤くて大きなボタンにしてください」
- あなた（修得後）：「`button`タグは**デフォルトでボーダーとグレー背景**がつくので、CSSで**背景色を主要ブランドカラー**に変更し、**ボーダーを調整**してください」

**レイアウト確認時の会話の変化：**
- 開発者：「リストの見た目が想定と違います」
- あなた（修得前）：「なんでこうなったんですか？」
- あなた（修得後）：「`ul`タグは**デフォルトで左インデントと点マーカー**がつくので、CSSの**`list-style: none`と`padding: 0`**でリセットが必要ですね」

## デフォルトスタイル：ブラウザの標準見た目

### 見出しタグ（h1〜h6）のデフォルトスタイル

**ブラウザのデフォルト表示：**
- **フォントサイズ**: h1が最大、h6が最小（段階的に縮小）
- **フォント太さ**: すべて`bold`（太字）
- **余白**: 上下に自動的なマージン（余白）が追加
- **表示**: ブロック要素（幅いっぱいに広がる）

**実際の表示例：**
# h1: 非常に大きな太字（32px相当）
## h2: 大きな太字（24px相当）
### h3: やや大きな太字（18.72px相当）
#### h4: 標準的な太字（16px相当）
##### h5: やや小さな太字（13.28px相当）
###### h6: 小さな太字（10.72px相当）

**Webディレクターとしてのポイント：**
- デザインで見出しサイズを指定する際は、**デフォルトサイズとの差異**を明確に伝える
- 複数の見出しレベルを使う場合、**視覚的階層とHTMLの意味的階層**の一致を確認

### テキスト関連タグのデフォルトスタイル

**段落（pタグ）:**
- **フォントサイズ**: 16px（ブラウザデフォルト）
- **行間**: 1.2倍程度の自動調整
- **余白**: 上下に自動マージン
- **表示**: ブロック要素

**強調（strongタグ）:**
- **フォント太さ**: bold（太字）
- **色**: 継承（親要素と同じ）

**斜体（emタグ）:**
- **フォントスタイル**: italic（斜体）
- **意味**: 強勢・強調（音声読み上げ時に抑揚）

### リスト関連タグのデフォルトスタイル

**順序なしリスト（ulタグ）:**
- **マーカー**: 黒い点（•）
- **インデント**: 左に約40px程度の余白
- **アイテム**: 縦に並んで表示

**順序ありリスト（olタグ）:**
- **マーカー**: 数字（1. 2. 3. ...）
- **インデント**: 左に約40px程度の余白
- **採番**: 自動的に連番が振られる

実際の表示例：
- 項目1（ulのデフォルト）
    - 項目2
        - 項目3

1. 項目1（olのデフォルト）
    1. 項目2
        1. 項目3

**Webディレクターとしてのポイント：**
- デザインで「点なしリスト」が必要な場合は、CSSで`list-style: none`の指定が必要
- インデントを調整したい場合は、`padding-left`の値を明確に指定

### フォーム関連タグのデフォルトスタイル

**ボタン（buttonタグ）:**
- **背景色**: 薄いグレー（#f0f0f0程度）
- **ボーダー**: 1px程度のグレーの境界線
- **パディング**: 内側に適度な余白
- **カーソル**: ホバー時にポインター（手のマーク）
- **フォント**: 継承（親要素と同じ）

**入力欄（inputタグ）:**
- **背景色**: 白
- **ボーダー**: 1px程度のグレーの境界線
- **パディング**: 内側に少しの余白
- **フォント**: ブラウザのデフォルトフォント

**選択欄（selectタグ）:**
- **背景色**: 白
- **ボーダー**: 1px程度のグレーの境界線
- **ドロップダウン矢印**: 右端に自動表示

### リンクタグ（aタグ）のデフォルトスタイル

**デフォルトの見た目：**
- **色**: 青色（#0000EE）
- **装飾**: 下線（underline）
- **訪問済み**: 紫色（#551A8B）
- **カーソル**: ポインター（手のマーク）

**状態による変化：**
- **未訪問**: 青色 + 下線
- **訪問済み**: 紫色 + 下線
- **ホバー**: 色の変化（ブラウザによって異なる）
- **アクティブ**: 赤色（クリック中）

### テーブル関連タグのデフォルトスタイル

**テーブル（tableタグ）:**
- **ボーダー**: なし（境界線なし）
- **セル間隔**: わずかな隙間
- **背景色**: 透明
- **幅**: コンテンツに応じて自動調整

**テーブルヘッダー（thタグ）:**
- **フォント太さ**: bold（太字）
- **文字配置**: 中央揃え
- **背景色**: 継承（通常は透明）

**テーブルセル（tdタグ）:**
- **フォント太さ**: normal（標準）
- **文字配置**: 左揃え
- **背景色**: 継承（通常は透明）

## デフォルト挙動：イベント・動作の標準動作

### リンク（aタグ）の動作

**デフォルトのリンク動作（同タブ遷移）：**
aタグは**デフォルトで現在のタブ内でページ遷移**します。これはユーザーが元のページに戻りたい場合にブラウザの「戻る」ボタンで簡単に戻れるためです。

**基本的なリンク動作：**
```html
<a href="/search">求人検索</a>
<!-- クリック時：同じタブで /search へ移動 -->

<a href="https://example.com">外部サイト</a>
<!-- クリック時：同じタブで外部サイトへ移動 -->

<a href="mailto:contact@example.com">メール送信</a>
<!-- クリック時：デフォルトメールアプリが起動 -->

<a href="tel:03-1234-5678">電話をかける</a>
<!-- クリック時：デフォルト電話アプリが起動（スマホ） -->
```

**target属性による動作の変更：**
```html
<a href="https://example.com" target="_blank">新しいタブで開く</a>
<!-- クリック時：新しいタブまたはウィンドウで開く -->

<a href="#section1">ページ内リンク</a>
<!-- クリック時：同一ページ内のid="section1"要素へスクロール -->
```

**Webディレクターとしてのポイント：**
- **内部リンク**（サイト内）はデフォルトの同タブ遷移でユーザビリティを保持
- **外部リンク**は通常`target="_blank"`を指定して新しいタブで開くよう設計（元のサイトから離脱防止）
- ページ内リンクは**スムーズスクロール**の実装をCSSまたはJavaScriptで検討

### フォーム送信（formタグ）の動作

**デフォルトのフォーム送信動作：**
```html
<form action="/submit" method="post">
    <input type="text" name="keyword" value="Python">
    <input type="text" name="location" value="東京">
    <button type="submit">検索</button>
</form>
```

**ブラウザのデフォルト送信動作（JavaScriptではない）：**
1. **buttonクリック**または**Enterキー押下**でフォーム送信
2. **method="post"**: POSTリクエストでデータ送信
3. **Content-Type**: `application/x-www-form-urlencoded`（自動設定）
4. **リクエストボディ**: 各inputの`name=value`形式で送信
   ```
   keyword=Python&location=東京
   ```
5. **action="/submit"**: 指定されたURLにリクエスト送信
6. **ページリロード**: 送信後にレスポンスページが表示される

**重要なポイント：**
- これは**ブラウザの標準機能**で、JavaScriptコードではない
- フォーム送信後は**必ずページが再読み込み**される
- 現代的なWebアプリで**ページリロードを防ぎたい場合**は、JavaScriptで`preventDefault()`によるデフォルト動作無効化と、独自のPOSTリクエスト実装が必要

**methodによる動作の違い：**
- **POST**: データをリクエストボディに含めて送信（推奨、機密情報向け）
- **GET**: データをURLパラメータに含めて送信（検索など、URLで共有可能）

### ボタン（buttonタグ）の動作

**type属性による動作の違い：**
```html
<!-- フォーム送信ボタン -->
<button type="submit">送信する</button>
<!-- 動作：フォーム全体を送信 -->

<!-- リセットボタン -->
<button type="reset">リセット</button>
<!-- 動作：フォーム内の入力値をすべてクリア -->

<!-- 汎用ボタン -->
<button type="button">カスタム動作</button>
<!-- 動作：JavaScriptで定義された処理を実行 -->
```

**デフォルトのtype属性：**
- **`<button>`タグ単体**: `type="submit"`（フォーム送信）
- **`<input type="button">`**: `type="button"`（汎用ボタン）

### 入力フィールド（inputタグ）の動作

**キーボード操作の標準動作：**
```html
<input type="text" name="keyword">
<!-- Enter押下：フォーム送信（form内の場合） -->

<input type="email" name="email">
<!-- Enter押下：フォーム送信 + メール形式の自動検証 -->

<input type="number" name="age">
<!-- 上下矢印キー：数値の増減 -->
<!-- Enter押下：フォーム送信 -->
```

**type属性による動作の違い：**
- **text**: 通常のテキスト入力
- **email**: メール形式の自動検証
- **tel**: 電話番号入力（スマホで数字キーパッド表示）
- **password**: 入力文字の非表示（●●●●）
- **number**: 数値のみ入力可能、スピンボタン表示

**ブラウザのデフォルトバリデーション機能：**

ブラウザは**type属性に応じて自動的に最低限のチェック**を行い、条件に合わない場合は**標準のエラーメッセージ**を表示します。これはJavaScriptを書かずに利用できるブラウザの標準機能です。

**type="email"の自動チェック：**
```html
<input type="email" name="email" required>
```
- **@マークの有無をチェック**: `abc`と入力 → 「有効なメールアドレスを入力してください」
- **基本的な形式チェック**: `abc@`と入力 → 「有効なメールアドレスを入力してください」
- **空の場合（required）**: 何も入力せず送信 → 「このフィールドを入力してください」

**type="number"の自動チェック：**
```html
<input type="number" name="age" min="18" max="65" required>
```
- **数値以外の入力**: 文字入力は自動的に除外される
- **範囲外の値**: `17`と入力 → 「値は18以上にしてください」
- **範囲外の値**: `66`と入力 → 「値は65以下にしてください」
- **空の場合（required）**: 何も入力せず送信 → 「このフィールドを入力してください」

**type="url"の自動チェック：**
```html
<input type="url" name="website" required>
```
- **プロトコルなし**: `example.com` → 「有効なURLを入力してください」
- **正しい形式**: `https://example.com` → バリデーション通過

**pattern属性による正規表現チェック：**
```html
<input type="text" name="phone" pattern="[0-9]{3}-[0-9]{4}-[0-9]{4}" 
       placeholder="例: 090-1234-5678" required>
```
- **形式が間違い**: `09012345678` → 「要求された形式に一致させてください」
- **正しい形式**: `090-1234-5678` → バリデーション通過

**文字数制限チェック：**
```html
<input type="password" name="password" minlength="8" maxlength="20" required>
```
- **文字数不足**: `abc123` → 「少なくとも8文字で入力してください」
- **文字数超過**: 21文字以上は入力自体が制限される

**バリデーション実行タイミング：**
- **フォーム送信時**: すべての必須項目・形式チェックを実行
- **フォーカスアウト時**: ブラウザによって若干異なる
- **リアルタイム**: type="email"等では入力中にも一部チェック

**カスタムバリデーションが必要なケース：**

**1. 複雑なビジネスルール**
```
× ブラウザデフォルトでは不可能：
- 「パスワードは英数字を含み、記号を1つ以上含む」
- 「郵便番号と住所の整合性チェック」
- 「クレジットカード番号の有効性確認」
```

**2. リアルタイムバリデーション**
```
× ブラウザデフォルトでは不十分：
- 入力中のユーザー名重複チェック
- パスワード強度のリアルタイム表示
- 住所入力時の自動補完と検証
```

**3. 日本語特有の入力ルール**
```
× ブラウザデフォルトでは対応困難：
- ふりがなとの一致チェック
- 全角・半角の統一
- 日本の電話番号形式（市外局番考慮）
```

**4. UX改善のための独自表示**
```
× ブラウザデフォルトでは制限的：
- エラーメッセージのデザイン統一
- 複数エラーの優先度制御
- ステップ形式フォームでの段階的検証
```

**Webディレクターとしての判断基準：**
- **簡単な形式チェック**: ブラウザデフォルトを活用（required、type="email"、pattern等）
- **ビジネス要件が複雑**: カスタムバリデーション実装（パスワード強度、重複チェック等）
- **UX重視**: デザイン統一のためカスタム実装（エラーメッセージ表示の制御）
- **多段階フォーム**: 段階的バリデーションでカスタム実装

**カスタムバリデーション実装時の注意点：**
- **パフォーマンス考慮**: API呼び出しは適切にデバウンス処理（多重実行を防ぐ）
- **アクセシビリティ確保**: エラーメッセージがスクリーンリーダーで読み上げられるよう配慮

### 選択フィールド（selectタグ）の動作

**キーボード操作：**
```html
<select name="location">
    <option value="">選択してください</option>
    <option value="tokyo">東京都</option>
    <option value="osaka">大阪府</option>
</select>
```

**標準操作：**
- **クリック**: ドロップダウンメニューを展開
- **上下矢印キー**: 選択肢の移動
- **Enter/Space**: 選択確定
- **Esc**: ドロップダウンを閉じる

## ブラウザ間での差異と注意点

### 主要な差異ポイント

**フォーム要素のスタイル：**
- **Chrome/Edge**: モダンで角の丸いデザイン
- **Firefox**: よりフラットなデザイン
- **Safari**: iOS/macOSに準拠したデザイン

**フォントレンダリング：**
- **Windows**: ClearTypeによるフォント表示
- **Mac**: 異なるフォントレンダリング
- **デフォルトフォント**: OSによって異なる

**スクロールバー：**
- **Windows**: 常に表示される太いスクロールバー
- **Mac**: 自動非表示の細いスクロールバー

### CSS Normalize/Resetの必要性

**CSS Normalizeとは：**
ブラウザ間のデフォルトスタイルの差異を統一するためのCSSライブラリです。

**実装の必要性をWebディレクターが判断するポイント：**
- **ブランド統一性**: 全ブラウザで一貫したデザインが必要
- **開発効率**: デザイナー・開発者の作業効率向上
- **品質保証**: 表示崩れのリスク軽減

## Webディレクターとしての活用方法

### デザイン要件書への反映

**CSS設計要件の明確化：**
```
デザイン要件書 - フォーム要素

✅ ボタンデザイン要件
- デフォルト：灰色背景 + 1pxボーダー（ブラウザ標準）
- 要件：主要ブランドカラー#007bff + ボーダーなし
- 実装：CSSでbackground-color、border: noneを指定

✅ 入力フィールド要件
- デフォルト：白背景 + 1pxグレーボーダー
- 要件：#f8f9fa背景 + 2px青ボーダー（フォーカス時）
- 実装：CSSでbackground-color、border、:focusを指定

✅ リスト表示要件
- デフォルト：点マーカー + 左40pxインデント
- 要件：マーカーなし + カスタムアイコン
- 実装：CSS list-style: none + ::before疑似要素

✅ フォーム送信動作要件
- デフォルト：POST送信 + ページリロード
- 要件：非同期送信でページ遷移なし + 送信中の状態表示
- 実装：JavaScript preventDefault() + fetch API + ローディング表示

✅ バリデーション要件
- デフォルト：ブラウザ標準のエラーメッセージ + 基本的な形式チェック
  └ type="email"で@マーク確認、required で必須チェック等
- 要件：ブランド統一されたエラー表示 + リアルタイムバリデーション
- 実装：JavaScript setCustomValidity() + CSS エラースタイル + API連携チェック
```

### ブラウザ検証チェックリスト

**デフォルト動作確認項目：**
```
📋 リンク動作確認
□ 内部リンクが同じタブで正しいページに遷移する
□ 外部リンクが新しいタブで開く（target="_blank"）
□ ページ内リンクが正しい位置にスクロールする
□ メールリンクでメールアプリが起動する

📋 フォーム動作確認
□ 送信ボタンでフォームが正しく送信される
□ Enterキーでフォーム送信が実行される
□ POSTリクエストのContent-Typeが application/x-www-form-urlencoded になっている
□ リクエストボディにname=value形式でデータが含まれている
□ 送信後にページがリロードされる（デフォルト動作）
□ リセットボタンで入力値がクリアされる
□ 必須項目の検証が正しく動作する
□ type="email"で無効なメール形式がエラーになる（@マーク等の確認）
□ type="number"でmin/max範囲外の値がエラーになる
□ pattern属性の正規表現チェックが動作する
□ バリデーションエラーメッセージがブラウザ標準で表示される
□ カスタムバリデーション（setCustomValidity）が正しく動作する
□ エラーメッセージのカスタマイズが適切に表示される

📋 表示スタイル確認
□ 見出しの階層が視覚的に明確である
□ リストのマーカーがデザイン通りである
□ フォーム要素がデザイン通りのスタイルである
□ ブラウザ間でスタイルの大きな差異がない
```

### 開発者とのコミュニケーション例

**具体的な指示の例：**

```
❌ Before（曖昧な指示）:
「ボタンの見た目を改善してください」

✅ After（具体的な指示）:
「buttonタグのデフォルトスタイル（グレー背景+ボーダー）を、
以下のCSSで変更してください：
- background-color: #007bff（主要ブランドカラー）
- border: none（ボーダー削除）
- border-radius: 4px（角の丸み）
- color: white（文字色）」
```

```
❌ Before（結果重視）:
「リストがデザインと違います」

✅ After（原因と解決策）:
「ulタグのデフォルトスタイル（点マーカー+左インデント）が原因です。
CSS reset として以下を適用してください：
- list-style: none（マーカー削除）
- padding-left: 0（インデント削除）
- margin: 0（マージン削除）」
```

```
❌ Before（曖昧な要件）:
「外部リンクを設置してください」

✅ After（明確な動作指定）:
「外部リンクはaタグのデフォルト（同タブ遷移）ではなく、
target="_blank"で新しいタブで開くように設定してください。
セキュリティ対策として rel="noopener noreferrer" も併せて指定をお願いします」
```

```
❌ Before（動作の理解不足）:
「フォーム送信でエラーが出ます」

✅ After（デフォルト動作を理解した指示）:
「formタグはデフォルトでPOST送信後にページリロードされますが、
SPAなのでページ遷移は不要です。JavaScriptで event.preventDefault() を使用して
デフォルト動作を無効化し、fetch API で独自にPOSTリクエストを実装してください」
```

```
❌ Before（バリデーション要件が曖昧）:
「入力チェック機能を追加してください」

✅ After（デフォルト機能を活用した要件定義）:
「基本的な形式チェック（required、type="email"、pattern）はブラウザデフォルトを活用し、
以下のビジネスルールは JavaScript でカスタム実装してください：
- パスワード強度チェック（大文字・小文字・数字・記号必須）
- ユーザー名重複チェック（フォーカスアウト時にAPI連携）
- パスワード確認（2つの入力値の一致チェック）
- エラーメッセージのカスタマイズ（setCustomValidity使用）
- デザイン統一（ブランドカラーでエラー表示）」
```

### ユーザビリティ観点でのチェック

**アクセシビリティとデフォルト動作：**
- **キーボードナビゲーション**: TabキーやEnterキーでの操作が正常に動作
- **スクリーンリーダー**: デフォルトのHTMLセマンティクスが正しく読み上げられる
- **フォーカス表示**: ブラウザデフォルトのフォーカス表示が視認できる

**スマートフォン対応：**
- **type="tel"**: 数字キーパッドが表示される
- **type="email"**: メール入力に適したキーボードが表示される
- **バリデーションエラー**: スマホでも適切に表示される（ただし表示領域に注意）
- **リンクタップ**: 適切なタップ領域が確保されている

## まとめ

- **デフォルトスタイル**：ブラウザは各HTMLタグに標準的な見た目を自動適用（h1は大きく太字、aタグは青い下線など）
- **デフォルト挙動**：HTMLタグには標準的な動作が定義されている（aタグの同タブ遷移、formのPOST送信+ページリロードなど）
- **デフォルトバリデーション**：inputタグはtype属性（email、number、url等）により自動的な形式チェックを実行（@マーク確認、数値範囲等）
- **ブラウザ差異**：同じHTMLでもブラウザによって微妙に表示や動作が異なる場合がある
- **CSS Normalize**：ブラウザ間の差異を統一し、デザインの一貫性を保つ重要な手法
- **要件定義の精度**：デフォルト動作を理解することで、より具体的で実装しやすい要件書が作成できる
- **バリデーション設計**：ブラウザデフォルト機能（required、type、pattern）とJavaScriptカスタム実装（setCustomValidity）の適切な使い分け
- **現代的なWeb開発**：SPAなどでデフォルト動作（ページリロードなど）を意図的に無効化する場面での適切な判断と指示
- **品質保証**：デフォルト動作を基準とした検証チェックリストにより、見落としを防げる

次の章では「CSS：見た目とレイアウト」について学び、これらのデフォルトスタイルをどのようにカスタマイズして、ブランドに合った美しいWebサイトを作り上げるかを理解していきます。CSSの基本概念、レスポンシブデザイン、そしてデザインシステムとの連携について、Webディレクターの視点から深掘りします。
